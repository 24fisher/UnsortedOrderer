# UnsortedOrderer

Консольное приложение .NET 8 для наведения порядка в папке с несортированными файлами. Настройки расположены в `appsettings.json`.

## Настройки

- `SourceDirectory` — путь к папке, которую нужно разобрать.
- `DestinationRoot` — корневая папка, в которую будут перемещены отсортированные данные.
- `SoftFolderName` — имя подпапки для программ и дистрибутивов.
- `ArchiveFolderName` — имя подпапки для архивов.
- `ImagesFolderName` — имя подпапки для иконок, логотипов и других мелких изображений.
- `PhotosFolderName` — имя подпапки для крупных фотографий; внутри нее создаются каталоги по годам съёмки.
- `FirmwareFolderName` — имя подпапки для файлов прошивок (`.bin`, `.dat`).
- `MetadataFolderName` — имя подпапки для файлов метаданных и сайдкаров (например, `.hprj`, `.xmp`).

## Логика сортировки

- Крупные фото (включая RAW) перемещаются в `PhotosFolderName` с разбивкой по годам, определяемым из EXIF или даты создания файла.
- Мелкие изображения (иконки, превью, логотипы) перемещаются целиком в `ImagesFolderName` без разбивки по годам. Для определения размера используется разрешение (до 512 пикселей по большей стороне) и вес файла (до ~300 КБ для мелких изображений).
- Документы, видео, 3D-модели, архивы, цифровые сертификаты, файлы прошивок, метаданные и ПО отправляются в отдельные каталоги.
- Если в названии дистрибутива (архив, `exe`, `msi`) различается только версия, файлы складываются в общую папку с названием программы внутри целевого каталога.
- Ярлыки `.lnk` удаляются.
- Папки-дистрибутивы определяются отдельным сервисом и перемещаются целиком в папку ПО, без разборки.
- При совпадении названия архива с уже перемещённой папкой ПО папка удаляется, а архив переносится на её место.
- После обработки пустые директории удаляются.

Запуск производится из каталога проекта (`dotnet run`), предварительно убедившись, что пути в `appsettings.json` корректны.
